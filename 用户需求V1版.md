## **次世代个人内容平台：融合博客、视频与问答的需求规格说明书**


**技术栈核心：** Vue.js (前端) + Spring Boot (后端)
**目标平台：** PC Web端

### **1. 项目概述与愿景**

#### **1.1 项目简介**

本项目旨在开发一个功能强大、体验现代的个人博客系统。它不仅仅是一个传统的文章发布平台，而是深度融合了知乎（Zhihu）的知识问答社区模式和哔哩哔哩（Bilibili）的视频内容与弹幕互动生态，旨在为内容创作者（博主）打造一个集深度文章、动态视频、互动问答于一体的综合性个人内容中心。用户将不再局限于单一的文本表达，而是可以通过多种媒介形式进行创作、分享和交流，从而构建一个更具活力和深度的个人品牌社区。

#### **1.2 核心设计理念**

- **多维内容呈现：** 打破传统博客的线性文本结构，支持文章、视频、问答三种核心内容形态，让创作者能够根据思想和创意的不同，选择最合适的表达载体。
- **深度互动体验：** 借鉴B站的弹幕文化和知乎的知识讨论氛围，通过实时弹幕、分层评论区、问答投票等机制，极大地增强用户与内容、用户与创作者、以及用户之间的互动粘性 。
- **创作者为中心：** 提供强大而易用的后台管理功能，包括内容管理、数据分析、社区反馈管理等，赋能创作者更好地运营自己的私域流量，并从中获得价值感和成就感。
- **社区化生态：** 虽然是“个人”博客系统，但通过关注、订阅、问答等功能，促进用户之间的连接，围绕创作者形成一个小型但高质量的知识与兴趣社区 。
- **不设置后台管理员审核**：在项目开发阶段，便于测试，所以不设置后台审核流程。

### **2. 功能性需求 (Functional Requirements)**

#### **2.1 用户中心模块**

此模块是所有用户（包括创作者和访客）进行身份管理和个性化操作的核心。

- **2.1.1 用户注册与登录**
  - **需求描述：** 系统需提供基础的用户名/密码注册和登录功能。鉴于项目不考虑邮箱/短信验证，注册流程应简化，但需保证用户名的唯一性，用户可以通过输入旧密码来重置密码。并且用户注册时允许设置最多三个密保问题，用于用户在忘记密码时找回。
  - 用户故事：
    - 作为一名新访客，我希望可以通过设置一个独特的用户名和密码来快速注册一个账号，以便发表评论和关注我喜欢的博主。
    - 作为已注册用户，我希望可以通过输入我的用户名和密码来登录系统，以便管理我的内容和个人信息。
    - 我觉得现在的密码不安全，想修改我的密码，可以通过输入旧密码来重置密码。如果我忘记了我的密码，我希望可以通过回答我之前设置的密保问题来进行密码重置
  - 功能点：
    - 注册页面：包含用户名、密码、确认密码输入框、≤3个的密保问题设置（可选）。
    - 登录页面：包含用户名、密码输入框、图片验证码。
    - 前端应进行基础的输入校验（如非空、密码长度等）。
    - 后端负责用户名的唯一性校验和密码的明文存储。
- **2.1.2 个人资料管理**
  - **需求描述：** 用户登录后，应能访问并编辑自己的个人资料，以展示个性化信息。这是用户在社区中的“身份名片”。
  - **用户故事：** 作为一名用户，我希望能上传我的头像，设置我的昵称，并写一段个人简介，让其他用户更好地了解我。我的主页上也应该显示我发布的文章或视频作品。
  - 功能点：
    - 可编辑字段：用户头像、昵称、个人简介/签名。
    - 个人主页：展示用户的头像、昵称、简介，以及其发布的所有内容（文章、视频、提问、回答）的聚合列表 。
    - 隐私设置：允许用户设置主页内容的可见性。

#### **2.2 内容创作与管理模块 (Blogger Module)**

这是系统的核心，是创作者生产内容的“工厂”。该模块的设计直接影响创作体验和内容质量。

- **2.2.1 文章发布系统**
  - **需求描述：** 提供一个功能丰富、体验流畅的在线文章编辑器，支持Markdown语法，并提供多种排版和内容嵌入选项。
  - **用户故事：** 作为一名博主，我希望能在一个所见即所得的编辑器里撰写文章，轻松插入代码块、图片，并能随时保存草稿，最终发布一篇排版精美的技术文章。
  - 功能点：
    - **编辑器：** 推荐采用基于Vue的开源Markdown编辑器，如 `mavon-editor` ，支持实时预览、全屏写作模式。
    - **评论区**：其他用户可以看到，并且在评论区中评论，然后允许用户对文章、用户对用户的评论进行发表评论
    - **点赞/收藏/置顶**：文章可以被其他用户点赞或收藏、用户的评论可以被点赞。并且博主可以制定一条评论置顶（有相应显示）
    - 编辑器内容支持：
      - Markdown全功能支持（标题、列表、引用、粗体、斜体等）。
      - 图片上传功能：支持拖拽上传、粘贴上传，并能生成图片链接插入文章。图片需有独立的存储方案（如对象存储）。
      - 代码块高亮：支持多种编程语言的语法高亮。
    - 文章管理：
      - 状态管理：文章应有“草稿”、“已发布”、“私密”等状态。
      - 分类与标签：创作者可以为文章设置分类和多个标签或搜索关键词，便于归档和检索 。
      - 自定义URL（Slug）：允许为文章设定一个易于记忆和SEO的URL。
      - 封面图设置：允许为每篇文章上传或指定一张封面图，用于在列表页展示。
- **2.2.2 视频发布系统** *（此模块暂时不开发，留空作为后续的扩展计划）*
  - **需求描述：** 构建一套完整的视频处理与发布流程，从上传到最终的在线播放，对标B站的核心体验。
  - **用户故事：** 作为一名视频UP主，我希望可以上传我的高清视频文件，系统能自动帮我处理成适合网络播放的格式，并允许我设置视频的标题、简介和封面，最终发布给我的粉丝观看。
  - 功能点：
    - 视频上传：
      - 支持大文件上传、断点续传。
      - 前端显示上传进度条。
      - 后端接收视频文件并存入临时存储区。
    - 视频处理（后台任务）：
      - **视频转码：** 使用 **FFmpeg** 等工具将上传的源视频转码为多种清晰度（如1080p, 720p, 480p）的 **HLS (HTTP Live Streaming)** 格式 ，以适应不同网速用户的播放需求。这是一个异步任务，可通过消息队列触发。
      - **视频存储：** 转码后的视频切片文件（.ts）和索引文件（.m3u8）应存储在对象存储服务（如MinIO, AWS S3）中，以实现高可用和可扩展性 。
      - **封面生成：** 自动截取视频某一帧作为默认封面，并允许用户上传自定义封面。
    - 视频信息管理：
      - 可编辑字段：视频标题、视频简介、分区/分类、标签。
      - 状态管理：转码中、转码失败、审核中、已发布。
      - 关联文章：允许将一个视频与某篇文章关联，实现图文视频联动。
- **2.2.3 问答（Q&A）系统**
  - **需求描述：** 模仿知乎的核心问答模式，允许用户提出问题，其他用户（尤其是博主本人）可以进行回答。
  - 用户故事：
    - 作为一名访客，我在阅读博主的文章后产生了一个疑问，但是评论区发表问题容易被挤下去，所以我希望系统可以单开一个模块，在他的博客里提出这个问题，并期待博主或其他大神能给我解答。
    - 作为博主，我希望看到我的读者们提出的问题，并能撰写详细的回答来分享我的知识，这也能成为我博客的一份宝贵内容。我希望这个是独立于评论区的专门用于文章内容应答的。
  - 功能点：
    - 提问功能：
      - 用户可以创建问题，包含问题标题和详细描述。
      - 可以为问题添加相关话题（标签）。
    - 回答功能：
      - 任何人都可以对问题进行回答。
      - 回答编辑器应与文章编辑器类似，支持富文本和图片。
    - 互动机制：
      - 对回答可以进行“赞同”或“反对”投票 。
      - 回答按赞同数进行排序。
      - 提问者或博主可以“邀请”特定用户回答问题。
    - 内容组织：
      - 所有问题和回答都应被索引，可供搜索。
      - 博主的个人主页应有专门的“问答”板块，展示其提出的问题和做出的回答。

#### **2.3 内容消费与互动模块 (Reader Module)**

此模块定义了普通用户如何浏览内容、以及如何与内容和创作者进行互动。

- **2.3.1 内容浏览**
  - **文章阅读页：** 界面简洁，聚焦阅读。提供目录导航、代码复制、图片灯箱查看功能。
  - 视频播放页（这个暂时不开发，留空便于后期实现）：
    - 播放器：使用成熟的开源Web播放器（如DPlayer, Video.js），支持HLS协议。
    - 功能：支持清晰度切换、播放速度调整、音量控制、全屏播放。
    - 弹幕系统：核心互动功能，详见下一节。
  - **问答浏览页：** 清晰展示问题标题和描述，下方是按“赞同”排序的回答列表。
- **2.3.2 核心互动功能**
  - 评论系统：
    - 适用于文章、视频和回答。
    - 支持主评论和对评论的回复（二级评论）。
    - 支持点赞评论。
    - 评论可按时间或热度排序。
  - 点赞/收藏/分享：
    - 用户可以对文章、视频、回答进行“点赞”操作，作为一种轻量级反馈 。
    - 用户可以将喜欢的内容“收藏”到自己的收藏夹中。
    - 提供“分享”按钮，方便用户将内容链接分享到其他社交平台。
  - 实时弹幕系统 (Danmu)（这个暂时不开发，留空便于后期实现）
    - **需求描述：** 在视频播放时，用户可以发送实时评论，这些评论会从屏幕上划过，形成独特的互动氛围，这是B站体验的精髓 。
    - **用户故事：** 我在观看一个技术教程视频时，希望能发送弹幕吐槽“这段代码有bug”，或者看到其他同学发的“老师讲得真好”的弹幕，感觉就像和大家一起学习一样。
    - 功能点：
      - 弹幕发送：播放器下方提供弹幕输入框和发送按钮。
      - 弹幕设置：用户可以选择弹幕的颜色、位置（滚动、顶部、底部）。
      - 弹幕渲染：前端播放器负责在正确的时间点，以正确的样式渲染弹幕。
      - 弹幕加载：进入视频时，加载该视频时间轴内的所有历史弹幕。
      - 实时通信：用户发送的新弹幕，通过 **WebSocket** 技术实时推送给所有正在观看该视频的其他用户。
      - 弹幕管理：博主可以管理自己视频下的弹幕，如删除恶意弹幕。

#### **2.4 社区与社交模块**

- **2.4.1 关注系统**
  - **需求描述：** 用户可以关注自己喜欢的创作者（博主），以便接收其最新动态。
  - 功能点：
    - 在博主个人主页和其内容页面提供“关注”按钮。
    - 用户的个人中心有“我的关注”和“我的粉丝”列表。
    - 被关注后，创作者会收到系统通知。
- **2.4.2 动态与通知系统**
  - **需求描述：** 构建一个信息流，让用户可以及时获取其关注的创作者的动态和与自己相关的互动信息。
  - 功能点：
    - **动态Feed流：** 用户登录后，首页或专门的“动态”页面会展示其关注的博主最新发布的文章、视频和回答。
    - 消息通知中心：
      - 聚合所有与用户相关的通知。
      - 类型包括：收到的新评论/回复、收到的点赞、新的粉丝、回答被采纳等。
      - 右上角应有小红点提示未读消息数量。

#### **2.5 搜索与推荐模块**

- **2.5.1 全站搜索引擎**
  - **需求描述：** 提供一个强大的站内搜索引擎，帮助用户快速找到感兴趣的内容。
  - **用户故事：** 我想学习关于“微服务架构”的知识，我希望可以在搜索框输入这个关键词，系统能返回所有相关的文章、视频和高质量的问答。
  - 功能点：
    - 搜索范围：支持对文章标题/内容、视频标题/简介、问题标题/描述进行全文检索。
    - 结果分类：搜索结果页应分类展示文章、视频、问答等不同类型的内容。
    - 高级筛选：支持按时间、热度、分类等维度对搜索结果进行排序和筛选。

#### **2.6 博主管理模块**

此模块为博主本人所用，用于管理自己发布的各种内容。

- **2.6.1 内容管理**
  - **需求描述：** 提供一个统一的仪表盘，集中管理所有类型的已发布内容和草稿。
  - 功能点：
    - 列表展示所有文章、视频、问答。
    - 支持对内容进行编辑、删除、更改状态（发布/私密）等操作。
    - 支持批量管理。
- **2.6.2 数据分析仪表盘**
  - **需求描述：** 以可视化的方式向我展示其内容的核心数据指标，帮助其了解内容表现和用户反馈 。
  - 功能点：
    - **核心指标：** 总访问量（PV）、独立访客数（UV）、总粉丝数、总点赞数。
    - 内容分析：
      - 单篇文章/视频的详细数据：阅读量/播放量、点赞数、评论数、收藏数。

### **3. 技术栈与架构选型建议**

- **3.1 前端 (Vue.js)**
  - **核心框架：** Vue 3 + Vite
  - **路由管理：** Vue Router
  - **状态管理：** Pinia
  - **UI组件库：** Element Plus 或 Vuetify ，它们提供了丰富的PC端UI组件，能极大加速开发。
  - **HTTP请求：** Axios
  - **Markdown编辑器：** mavon-editor 或 Cherry Markdown
  - **视频播放器：（这个先不做）** DPlayer (支持HLS和弹幕) 或 ArtPlayer
- **3.2 后端 (Spring Boot)**
  - **核心框架：** Spring Boot 3+
  - **数据库：** MySQL 8.0
  - **持久层框架：** MyBatis-Plus 或 Spring Data JPA
  - **安全框架：** Spring Security + JWT (用于无状态认证)
  - **缓存：** Redis (用于缓存热点数据、Session管理等) 
  - **搜索引擎：** Elasticsearch 
  - **视频处理（这个先不做）：** FFmpeg (通过Java的 `ProcessBuilder` 调用)
  - **实时通信：** Spring WebSocket